(this.webpackJsonpcryptoquote=this.webpackJsonpcryptoquote||[]).push([[0],[,,function(e,t,n){},,,function(e,t,n){e.exports=n.p+"static/media/reward-01.97b0e411.jpg"},function(e,t,n){e.exports=n(12)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a,r=n(0),c=n.n(r),o=n(4),l=n.n(o),i=(n(11),n(2),n(1));function u(e){var t=Object(r.useState)(""),n=Object(i.a)(t,2),a=n[0],o=n[1];return c.a.createElement("div",{className:"NoPuzzle"},c.a.createElement("div",null,"Enter the cypher or plaintext:"),c.a.createElement("div",null,c.a.createElement("textarea",{rows:10,cols:80,value:a,onChange:function(e){return o(e.target.value)}})),c.a.createElement("div",null,c.a.createElement("button",{style:{fontSize:"24pt"},onClick:function(){return e.setCypher(a)}},"Play")),c.a.createElement("div",null,c.a.createElement("button",{style:{fontSize:"24pt"},onClick:function(){return e.setPlainText(a)}},"Scramble & Play")))}function s(e){var t=e.isSelectedKey?"key selected":"key";return c.a.createElement("div",{style:{width:"42px",height:"100px",border:"solid 1px black",borderRadius:"5px"}},c.a.createElement("div",{style:{height:"30px"}},c.a.createElement("span",{className:t},e.fromKey)),c.a.createElement("div",{style:{height:"30px",marginTop:"10px"}},c.a.createElement("span",{className:"value"},e.toKey)))}function m(e){return c.a.createElement("div",null,function(e,t){var n=Array.from(e.keys()).map((function(n){return c.a.createElement("td",{key:n},c.a.createElement(s,{fromKey:n,toKey:e.get(n)||"",isSelectedKey:n===t}))}));return c.a.createElement("div",null,c.a.createElement("table",{id:"keymap"},c.a.createElement("tbody",null,c.a.createElement("tr",null,n))))}(e.keymap,e.selectedKey))}function f(e){var t=e.isSelectedKey?"key selected":"key";return c.a.createElement("div",{style:{width:"42px",height:"100px",fontSize:"18pt"}},c.a.createElement("div",{style:{height:"30px"}},c.a.createElement("span",{className:t},e.fromKey)),c.a.createElement("div",{style:{height:"30px",marginTop:"5px"}},c.a.createElement("span",{className:"value"},e.toKey)))}function p(e){return c.a.createElement("div",null,function(e,a,r){var o=function(e,t){var a=[],r=n(e,t),c=Object(i.a)(r,2),o=c[0],l=c[1];for(;o.length>0;){a.push(o);var u=n(l,t),s=Object(i.a)(u,2);o=s[0],l=s[1]}return a}(r,35).map((function(n,r){return function(e,n,a,r){var o=a.split("").map((function(a){return c.a.createElement(f,{isSelectedKey:a===n,fromKey:a,toKey:t(e,a)})})).map((function(e,t){return c.a.createElement("div",{style:{float:"left"},key:r.toString()+"_"+t},e)}));return c.a.createElement("div",{key:r},o,c.a.createElement("div",{style:{clear:"both"}}))}(e,a,n,r)}));return c.a.createElement("div",null,o)}(e.keymap,e.selectedKey,e.cypher));function t(e,t){return e.has(t.toUpperCase())?e.get(t.toUpperCase()):t}function n(e,t){if(e.length<=t)return[e,""];for(var n=t+1;n>0&&" "!==e.charAt(n);)--n;return n>1?[e.substring(0,n),e.substring(n)]:[e,""]}}function y(){return c.a.createElement("div",null,c.a.createElement("p",{style:{fontWeight:"bold"}},"To unset a letter, press the SPACEBAR after pressing the letter. To invoke UNDO, use the BACKSPACE key."))}!function(e){e.NO_PUZZLE="NO_PUZZLE",e.PLAYING="PLAYING"}(a||(a={}));var d=n(5),h=n.n(d);function v(e){var t,n=Object(r.useState)(!1),a=Object(i.a)(n,2),o=a[0],l=a[1];return Object(r.useEffect)((function(){console.log("In useEffect callback with remaining = ".concat(e.remaining," and awardShow = ").concat(o)),0!==e.remaining||o||setTimeout((function(){l(!0)}),2500)})),0!==e.remaining||o?(t=e.remaining,c.a.createElement("div",null,"You have ",t," letters left to guess.")):c.a.createElement("div",null,c.a.createElement("img",{src:h.a,style:{width:"300px",borderRadius:"15px",border:"10px solid puple"}}))}function E(e){var t=Object(r.useRef)(null);Object(r.useEffect)((function(){t&&t.current&&t.current.focus()}),[]);var n=Object(r.useState)(""),a=Object(i.a)(n,2),o=a[0],l=a[1],u=function(e,t){var n=new Set(Array.from(e).filter(f));console.log("The cypher set has ".concat(n.size," distinct characters."));var a=new Set(Array.from(t.keys()).filter((function(e){return""!=t.get(e)})));console.log("There are ".concat(a.size," distinct mapped characters."));var r=0;return n.forEach((function(e){a.has(e)&&(console.log("The keymap has ".concat(e," so we count it.")),++r)})),n.size-r}(e.cypher,e.keymap);return console.log("There are ".concat(u," letters left to guess.")),c.a.createElement("div",{ref:t,tabIndex:0,className:"Playing",onKeyDown:function(t){return function(t){console.log("Just got an [".concat(t.key,"]"));var n=t.key.toUpperCase();1===n.length&&n>="A"&&n<="Z"?""!==o?(function(t){return void 0===Array.from(e.keymap.values()).find((function(e){return t===e}))}(n)&&d(o,n),l("")):l(n):" "===n?""!==o&&(d(o,""),s()):"BACKSPACE"===n&&(s(),e.invokeUndo())}(t)}},c.a.createElement(m,{keymap:e.keymap,selectedKey:o}),c.a.createElement(y,null),c.a.createElement(v,{remaining:u}),c.a.createElement(p,{cypher:e.cypher,keymap:e.keymap,selectedKey:o}));function s(){l("")}function f(e){var t=e.toUpperCase();return t>="A"&&t<="Z"}function d(t,n){e.mapKey(t,n)}}function g(){var e=Object(r.useState)(a.NO_PUZZLE),t=Object(i.a)(e,2),n=t[0],o=t[1],l=Object(r.useState)(""),s=Object(i.a)(l,2),m=s[0],f=s[1],p=Object(r.useState)(function(){for(var e=new Map,t=0;t<26;++t){var n=String.fromCharCode(65+t);e.set(n,"")}return e}()),y=Object(i.a)(p,2),d=y[0],h=y[1],v=Object(r.useState)([]),g=Object(i.a)(v,2),b=g[0];g[1];function k(e){f(e.toUpperCase()),o(a.PLAYING)}function O(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZ",n=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}(Array.from(t)),a=Array.from(t),r=new Map,c=0;c<a.length;++c)r.set(a[c],n[c]);var o=Array.from(e.toUpperCase()).map((function(e){return r.has(e)?r.get(e):e})).join("");console.log("Plain text: ".concat(e)),console.log("Encrypted: ".concat(o)),k(o)}function S(){var e=b.pop();void 0!==e&&h(e)}function w(e,t){!function(e,t){var n=new Map(d);n.set(e,t),h(n)}(e,t),b.push(d)}return c.a.createElement("div",{className:"Game"},function(){switch(n){case a.NO_PUZZLE:return c.a.createElement(u,{setCypher:k,setPlainText:O});case a.PLAYING:return c.a.createElement(E,{cypher:m,keymap:d,mapKey:w,invokeUndo:S})}}())}var b=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(g,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(b,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[6,1,2]]]);
//# sourceMappingURL=main.bb3990ad.chunk.js.map